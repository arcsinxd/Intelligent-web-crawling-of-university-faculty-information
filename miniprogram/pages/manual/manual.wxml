<!--pages/manual/manual.wxml-->
<view class="container">
  <view class="header">
    <text class="title">手动配方生成器</text>
  </view>

  <view class="section">
    <view class="section-title admin-title">(备用) 手动配方生成器</view>
    <view class="section-content">
      <text class="description">如果"全流程自动化"失败或找错了，请在这里手动输入正确的"师资列表页"网址进行补录。</text>
      
      <view class="input-group">
        <text class="label">学院名称</text>
        <input 
          class="input" 
          type="text" 
          placeholder="例如：化学系"
          value="{{collegeName}}"
          bindinput="onCollegeNameInput"
        />
      </view>

      <view class="input-group">
        <text class="label">师资网址</text>
        <input 
          class="input" 
          type="text" 
          placeholder="https://chem.pku.edu.cn/..."
          value="{{facultyUrl}}"
          bindinput="onFacultyUrlInput"
        />
      </view>

      <button 
        class="btn btn-primary" 
        bindtap="generateRecipe"
        disabled="{{isGenerating}}"
        loading="{{isGenerating}}"
      >
        🤖 {{isGenerating ? '正在生成...' : '启动 AI 生成配方'}}
      </button>

      <view class="status {{statusClass}}" wx:if="{{statusMessage}}">
        <text>{{statusMessage}}</text>
      </view>

      <view class="recipe-result" wx:if="{{recipeResult}}">
        <view class="recipe-title">生成的配方:</view>
        <view class="recipe-content">
          <text class="recipe-text">{{recipeResult}}</text>
        </view>
      </view>
    </view>
  </view>
</view>

