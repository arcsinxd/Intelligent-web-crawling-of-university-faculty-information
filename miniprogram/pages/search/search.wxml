<!--pages/search/search.wxml-->
<view class="container">
  <view class="header">
    <text class="title">æœç´¢æ•™å¸ˆä¿¡æ¯</text>
  </view>

  <view class="search-section">
    <view class="input-group">
      <text class="label">æŒ‰å§“åæœç´¢</text>
      <input 
        class="input" 
        type="text" 
        placeholder="è¯·è¾“å…¥æ•™å¸ˆå§“å"
        value="{{nameQuery}}"
        bindinput="onNameInput"
      />
    </view>

    <view class="input-group">
      <text class="label">æŒ‰å­¦é™¢æœç´¢</text>
      <input 
        class="input" 
        type="text" 
        placeholder="è¯·è¾“å…¥å­¦é™¢åç§°"
        value="{{collegeQuery}}"
        bindinput="onCollegeInput"
      />
    </view>

    <view class="input-group">
      <text class="label">æŒ‰ç ”ç©¶æ–¹å‘æœç´¢</text>
      <input 
        class="input" 
        type="text" 
        placeholder="è¯·è¾“å…¥ç ”ç©¶æ–¹å‘"
        value="{{researchQuery}}"
        bindinput="onResearchInput"
      />
    </view>

    <button class="btn btn-search" bindtap="searchTeachers" loading="{{isSearching}}">
      ğŸ” {{isSearching ? 'æœç´¢ä¸­...' : 'æœç´¢'}}
    </button>
  </view>

  <view class="results-section" wx:if="{{hasSearched}}">
    <view class="results-header">
      <text class="results-count">å…±æ‰¾åˆ° {{teachers.length}} æ¡è®°å½•</text>
    </view>

    <view class="teacher-list" wx:if="{{teachers.length > 0}}">
      <view class="teacher-card" wx:for="{{teachers}}" wx:key="index">
        <view class="teacher-name">
          <text class="name">{{item.name || 'N/A'}}</text>
          <text class="title">({{item.title || 'N/A'}})</text>
        </view>
        <view class="teacher-info">
          <text class="info-item">ğŸ« é™¢ç³»: {{item.department || 'N/A'}} - {{item.university || 'N/A'}}</text>
        </view>
        <view class="teacher-info" wx:if="{{item.email}}">
          <text class="info-item">ğŸ“§ é‚®ç®±: {{item.email}}</text>
        </view>
        <view class="teacher-info" wx:if="{{item.research_interests}}">
          <text class="info-item">ğŸ”¬ ç ”ç©¶æ–¹å‘: {{item.research_interests}}</text>
        </view>
        <view class="teacher-link" wx:if="{{item.profile_url}}">
          <view class="link-text" bindtap="openProfileUrl" data-url="{{item.profile_url}}">
            <text>æŸ¥çœ‹ä¸ªäººä¸»é¡µ â†’</text>
          </view>
        </view>
      </view>
    </view>

    <view class="empty-state" wx:else>
      <text>æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»“æœ</text>
    </view>
  </view>
</view>

